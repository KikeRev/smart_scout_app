{# templates/â€¦/_message.html #}
{% load markdownify %}

<div class="msg {{ m.role }}">
  {% autoescape off %}
    {{ m.content|markdownify }}
  {% endautoescape %}

  {# â”€â”€â”€ NUEVO: pinta adjuntos â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ #}
  {% if m.meta %}
      {% for att in m.meta %}
          {% if att.type == "image" %}
              <figure class="my-3 text-center">
                  <img src="{{ att.url }}" alt="{{ att.alt }}" class="img-fluid rounded shadow-sm"/>
              </figure>
          {% elif att.type == "table" %}
              {{ att.html|safe }}
          {% endif %}
      {% endfor %}
  {% endif %}
  {% if m.role == "assistant" %}
    <span class="rating">
      ğŸ‘ <input type="radio" name="rate_{{ m.id }}" value="up">
      ğŸ‘ <input type="radio" name="rate_{{ m.id }}" value="down">
    </span>
  {% endif %}
</div>